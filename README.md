## Overview
To understand the emergent seasonal pattern of vegetation greenness based on the concept of optimality, we hypothesized that the seasonal dynamics of canopy greenness tracks that of canopy potential production. Canopy greenness was indexed by fraction of absorbed photosynthetically active radiation (fAPAR). Canopy potential production was defined here as the rate of canopy photosynthesis that would be achieved if all light were absorbed by green tissues (A0), which was estimated from climate variables with a universal photosynthesis model, the P model. We tested our hypothesis at a global scale by comparing the spatial patterns of fAPAR seasonality and A0 seasonality, especially their corelation coefficient cross grid cells and along the latitudinal gradient. We also tested our hypothesis at flux sites cross various biomes with corelation coefficient of observed monthly fAPAR and the P model predicted monthly A0. With the extensive supports from satellite data and ground data, we further developed a universal model of canopy greenness (the PL model) in which the seasonal dynamics of fAPAR are predicted directly from the climate-driven seasonal cycle of A0. We evaluated our PL model by comparing the fAPAR predictions with the remote sensing data, and predictions from state-of-the-art process-based models in TRENDY projects. We also applied the PL model to predict historical trends in global fAPAR and GPP with a comparison with TRENDY models, and identify the primary drivers of global greening and browning trends with a factorial simulation.

## Results
Our findings provide multiple lines of evidence for the coordination of vegetation photosynthesis physiology and structure.
Our approach is able to capture 81% of the global variations in observed seasonal leaf dynamics, thus offering a promising avenue to improve global models in a parsimonious, but theory-constrained fashion.

## Information
Time and spatial scale: We used satellite observations for the period 2001–2019 with a spatial resolution of 0.5° × 0.5°. We used in situ observations during 2000–2020.
Data exclusion: For satellite data, we excluded the top 15% of cropland coverage to minimize anthropogenic impacts. For ground records, we excluded sites with less than three consecutive years of data and excluded all records from cropland sites.

1. System requirements
All software dependencies and operating systems (including version numbers): MATLAB 2021b
Any required non-standard hardware: Windows or Mac System
2. Installation guide
Instructions: download MATLAB at https://www.mathworks.com/products/matlab.html
Typical install time on a "normal" desktop computer
3. Demo
Instructions to run on data: 
Change the direction to "greenness\code\"
Main function: "greenness\code\code_figures_ncomms.mlx"
Demo data: "greenness\data\"
Expected output: Main figures 1 to 6
Expected run time for demo on a "normal" desktop computer: Less than 5 minutes
4. Instructions for use
How to run the software on your data: Click run to get the output
(OPTIONAL) Reproduction instructions